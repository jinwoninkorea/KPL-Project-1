# KPL 도시연구소 리빙랩 데이터 분석팀 Project #1

## 🖥️ 프로젝트 소개
2022년 서울시 따릉이 데이터를 이용하여 각 자치구별 자전거 주행환경 점수를 마련한다. 이를 구별 최다 이용 구간과 비교하여 실제 이용구간 간의 연관성을 파악하여 따릉이 사업의 질적 성장을 도모한다. 
<br>

## 🕰️ 프로젝트 기간
* 23.02.18일 - 23.03.19일

### 🧑‍🤝‍🧑 맴버구성
 - 팀장  : 최진원
 - 팀원1 : 김재욱 
 - 팀원2 : 송승현 
 - 팀원3 : 신지윤 

### ⚙️ 사용 언어 및 환경
- Python
- QGIS
- Google Colab
- Tableau
- Kepler.gl

## 📌 주제 선정 및 배경
- 환경보호와 편리함과 같은 이유로 공유형 모빌리티의 이용량이 증가하고 있음. 특히 서울시의 대표적인 공유형 모빌리티인 ‘따릉이’의 이용량은 지속적으로 증가하고 이에 맞춰 대여소의 개수 또한 증가하고 있는 실정임. 따릉이 이용객은 꾸준히 증가할 것으로 사료되는 바, 이용객의 주행 편의성 분석은 ‘따릉이’의 보편적인 이용객 유입을 불러오고 효율적인 운영을 위해 필요한 연구임. 
하지만 대부분의 관련 연구는 자전거라는 더 넓은 범위를 바탕으로 자전거 주행 친화도 연구를 따릉이에 대입하는 형태로 진행되었음. 자전거와 따릉이는 형태는 유사하지만 이용의 목적, 이용 시간, 이용객의 특성 등 차이를 보이므로 ‘따릉이’를 대상으로 하는 전반적인 연구를 진행할 필요가 있음. 따라서 현 상황에서 서울시의 구별 ‘따릉이’ 주행환경 현황을 수치화하여 정량적으로 알아보고자 함. 이을 위해 ‘따릉이’의 최다 이용 구간을 선정하고 본 연구에서 선정한 관련 변수를 바탕으로 따릉이 이용환경 점수를 도출하고자 함.
- 서울시의 25개 구의 따릉이 최다 이용 구간을 3개 선정함. 설정한 따릉이 주행환경 변수를 해당 구간에 적용하여 수치화함. 도출된 수치를 구별로 계산하고 구별 순위, 구별 이용 특성 등을 분석함.

## 📌 가설
- 업무지구와 주거지역의 최다 이용 대여소의 분포가 다를 것
 → 업무지구는 지하철역, 대기업 사옥 근처의 이용율이 높을 것/ 업무지구는 아파트 단지, 주택 단지 주변 대여소의 이용률이 높을 것

## 📌 분석 내용 및 결과
- 연구를 진행하기에 앞서 선행 연구 자료 분석을 통해 따릉이 이용에 영향을 미치는 요인을 사회환경적 특성과 자전거 이용환경 특성으로 분류한 후  분석했을 때 유의한 변수를 탐구함.
- 선행 연구 분석 결과, 다음 변수들이 유의미한 변수로 판단됨.
 
→ 불법주차 단속 비율 | 경사도 | 자전거 도로의 비율 | 자전거 도로의 연결성 | 자전거 도로의 종류 | 자전거 교통사고율
![image](https://user-images.githubusercontent.com/129578708/229280691-69e3c780-1c2b-469b-83cd-05a380856244.png)

## 📌 분석 내용 및 결과
- 서울시 25개의 구별로 최다 이용 구간을 추출하여 따릉이 대여소의 연결 상태, 불법주차 단속 비율, 경사도, 자전거 도로의 비율, 자전거 도로의 연결성, 자전거 도로의 종류, 자전거 교통사고율 등을 고려하여 따릉이 주행 친화도를 점수화함.
    - **사회환경적 변수** (경사도, 불법주차 단속 비율)와 **자전거 이용환경 변수** (따릉이 대여소의 연결 상태, 자전거 도로의 비율, 자전거 도로의 연결성, 자전거 도로의 종류, 자전거 교통사고율)로 변수를 그룹화하여 분석 진행.
- 사용 데이터
    - 서울시 2022년 공공자전거 대여소 정보
    - 서울시 2022년 공공자전거 대여이력 정보
    - 서울시 불법 주정차 단속실적
    - 서울시 자전거 교통사고 데이터
    - 서울시 경사도 데이터 (수치지형도v2.0(1:5000)로 제작)
    - 2022 서울 자전거길 안내지도
    
    *모든 데이터는 2022년 기준으로 함.*
    
1. 데이터 전처리
- 2022년 따릉이 대여 반납 이력 데이터 전처리
    - 주행 거리
        - 이동거리가 0m인 경우, 자전거 주행했다고 보기 어려우므로 분석 과정에 포함시키는 것이 불필요하다고 판단되어 제거
        - 이상치 제거를 위해 주행 거리의 기준값을 설정 → 각 자치구의 따릉이 대여소 간의 평균 거리 계산 후 서울시의 전체 따릉이 대여소 간 평균 거리 산출 : 2.08km
2. 변수에 따른 데이터 수집
   
   a. 자전거 이용환경 특성
    - 자전거 도로의 비율 | 자전거 도로의 연결성 | 자전거 도로의 종류
    - 구 단위로 이용량이 가장 많은 따릉이 대여 구간 계산
        - 대여 지점과 반납 지점의 최다 조합 추출 결과, 서울시 모든 구에서 가장 많은 따릉이 대여 구간은 대여 지점과 반납 지점이 **동일**했음
        대여 지점과 반납 지점이 동일한 경우 주행 구간을 알기 어렵기 때문에 이 경우를 제외하고 따릉이 대여 구간 최다 조합 상위 3개 계산
    
    b. 사회환경적 특성 

    - 경사도
    - 수치지형도로 제작한 DEM을 경사도 데이터로 변환
    - QGIS 이용하여 포인트 생성 후 따릉이 대여 구간 최다 조합 상위 3개 파일 참고하여 경로 생성
    - 파이썬 이용하여 경로의 평균 경사도 추출
    
    → 선행 연구 검토 내용 반영하여 5% 이상의 경사 (경사도 2.86도) 는 자전거 주행에 적합하지 않다고 판단.
   
 <img width="1451" alt="스크린샷 2023-03-16 오후 12 31 25" src="https://user-images.githubusercontent.com/129578708/229280890-b0aa0f26-52a6-4046-8e43-366647c0b092.png">
<img width="1571" alt="스크린샷 2023-03-16 오후 12 44 54" src="https://user-images.githubusercontent.com/129578708/229280894-0d498e8e-78ec-4ef6-bb2e-435a3d4c2085.png">
<img width="1398" alt="스크린샷 2023-03-16 오후 12 33 27" src="https://user-images.githubusercontent.com/129578708/229280895-d91d99bd-93c5-49ec-b7b1-b80e83b23ed1.png">
![image](https://user-images.githubusercontent.com/129578708/229281105-dfbaf7e1-88fc-43c8-80cd-6298f13ec1da.png)
